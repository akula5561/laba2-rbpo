from pathlib import Path

readme_content = """# üìö Library Management System

–ü—Ä–æ–µ–∫—Ç –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π REST API –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –±–∏–±–ª–∏–æ—Ç–µ–∫–æ–π.  
–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã CRUD-–æ–ø–µ—Ä–∞—Ü–∏–∏ –¥–ª—è –∞–≤—Ç–æ—Ä–æ–≤, –∫–Ω–∏–≥, —á–∏—Ç–∞—Ç–µ–ª–µ–π –∏ –≤—ã–¥–∞—á –∫–Ω–∏–≥, –∞ —Ç–∞–∫–∂–µ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –±–∏–∑–Ω–µ—Å-–æ–ø–µ—Ä–∞—Ü–∏–∏.



##  –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

- üìñ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ **–∫–Ω–∏–≥–∞–º–∏**
- ‚úçÔ∏è –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ **–∞–≤—Ç–æ—Ä–∞–º–∏**
- üë• –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ **—á–∏—Ç–∞—Ç–µ–ª—è–º–∏**
- üîÑ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ **–≤—ã–¥–∞—á–∞–º–∏ –∫–Ω–∏–≥**
- ‚öôÔ∏è –ë–∏–∑–Ω–µ—Å-–æ–ø–µ—Ä–∞—Ü–∏–∏:
    - –í—ã–¥–∞—á–∞ –∫–Ω–∏–≥–∏ —á–∏—Ç–∞—Ç–µ–ª—é
    - –í–æ–∑–≤—Ä–∞—Ç –∫–Ω–∏–≥–∏
    - –ü—Ä–æ—Å–º–æ—Ç—Ä –ø—Ä–æ—Å—Ä–æ—á–µ–Ω–Ω—ã—Ö –≤—ã–¥–∞—á
    - –ü–æ–ª—É—á–µ–Ω–∏–µ –∞–∫—Ç–∏–≤–Ω—ã—Ö –≤—ã–¥–∞—á
    - –ü–æ–∏—Å–∫ –∫–Ω–∏–≥ –ø–æ –∞–≤—Ç–æ—Ä—É –∏–ª–∏ –Ω–∞–∑–≤–∞–Ω–∏—é



##  –¢–µ–º–∞ –ø—Ä–æ–µ–∫—Ç–∞

**–°–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –±–∏–±–ª–∏–æ—Ç–µ–∫–æ–π**

–ü–æ–∑–≤–æ–ª—è–µ—Ç –±–∏–±–ª–∏–æ—Ç–µ–∫–∞—Ä—é:
- –î–æ–±–∞–≤–ª—è—Ç—å –∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –∫–Ω–∏–≥–∏ –∏ –∞–≤—Ç–æ—Ä–æ–≤
- –†–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å —á–∏—Ç–∞—Ç–µ–ª–µ–π
- –û—Ñ–æ—Ä–º–ª—è—Ç—å –≤—ã–¥–∞—á—É –∏ –≤–æ–∑–≤—Ä–∞—Ç –∫–Ω–∏–≥
- –ö–æ–Ω—Ç—Ä–æ–ª–∏—Ä–æ–≤–∞—Ç—å —Å—Ä–æ–∫–∏ –≤–æ–∑–≤—Ä–∞—Ç–∞



##  –ò—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

- **Java 17**
- **Spring Boot 3**
- **Spring Web / Data JPA**
- **Hibernate**
- **PostgreSQL** (–æ—Å–Ω–æ–≤–Ω–∞—è –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö)
- **H2** (in-memory –ë–î –¥–ª—è —Ç–µ—Å—Ç–æ–≤)
- **Swagger / OpenAPI** –¥–ª—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏
- **Lombok** –¥–ª—è —É–ø—Ä–æ—â–µ–Ω–∏—è –∫–æ–¥–∞
- **Docker Compose** –¥–ª—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

---

##  –û—Å–Ω–æ–≤–Ω—ã–µ —Å—É—â–Ω–æ—Å—Ç–∏

| –°—É—â–Ω–æ—Å—Ç—å | –û–ø–∏—Å–∞–Ω–∏–µ |
|-----------|-----------|
| **Author** | –ê–≤—Ç–æ—Ä –∫–Ω–∏–≥–∏ (–∏–º—è, –±–∏–æ–≥—Ä–∞—Ñ–∏—è) |
| **Book** | –ö–Ω–∏–≥–∞ (–Ω–∞–∑–≤–∞–Ω–∏–µ, –≥–æ–¥ –∏–∑–¥–∞–Ω–∏—è, –Ω–∞–ª–∏—á–∏–µ, —Å—Å—ã–ª–∫–∞ –Ω–∞ –∞–≤—Ç–æ—Ä–∞) |
| **Reader** | –ß–∏—Ç–∞—Ç–µ–ª—å (–∏–º—è, email, —Ç–µ–ª–µ—Ñ–æ–Ω) |
| **Loan** | –í—ã–¥–∞—á–∞ –∫–Ω–∏–≥–∏ (–∫–Ω–∏–≥–∞, —á–∏—Ç–∞—Ç–µ–ª—å, –¥–∞—Ç—ã –≤—ã–¥–∞—á–∏ –∏ –≤–æ–∑–≤—Ä–∞—Ç–∞) |

###  –°–≤—è–∑–∏ –º–µ–∂–¥—É —Ç–∞–±–ª–∏—Ü–∞–º–∏
- `Book` ‚Üí `Author` : Many-to-One
- `Loan` ‚Üí `Book` : Many-to-One
- `Loan` ‚Üí `Reader` : Many-to-One

---

##  –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

–§–∞–π–ª—ã –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏:
- `application-h2.properties` ‚Äî –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- `application-postgres.properties` ‚Äî –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å PostgreSQL
- `application-supabase.properties` ‚Äî –¥–ª—è –æ–±–ª–∞—á–Ω–æ–π –ë–î (Supabase)

–ê–∫—Ç–∏–≤–Ω—ã–π –ø—Ä–æ—Ñ–∏–ª—å –∑–∞–¥–∞—ë—Ç—Å—è –≤ `application.properties`:
```properties
spring.profiles.active=postgres

###

## –°–ë–û–†–ö–ê –ò –ó–ê–ü–£–°–ö –ü–†–û–ï–ö–¢–ê

# –ö–ª–æ–Ω–∏—Ä—É–µ–º –ø—Ä–æ–µ–∫—Ç
git clone https://github.com/akula5561/laba2-rbpo.git
cd laba2-rbpo

# –ó–∞–ø—É—Å–∫ PostgreSQL —á–µ—Ä–µ–∑ Docker
docker-compose up -d

# –°–±–æ—Ä–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞
./mvnw clean package

# –ó–∞–ø—É—Å–∫ Spring Boot –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
./mvnw spring-boot:run

–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ API –¥–æ—Å—Ç—É–ø–Ω–æ –ø–æ –∞–¥—Ä–µ—Å—É:
 http://localhost:8080/api


–ü—Ä–∏–º–µ—Ä—ã –∑–∞–ø—Ä–æ—Å–æ–≤ (Postman)
 –ê–≤—Ç–æ—Ä
–°–æ–∑–¥–∞—Ç—å –∞–≤—Ç–æ—Ä–∞
–í—Å–µ–≥–¥–∞ –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –ø–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏
POST /api/authors
{
  "name": "J.K. Rowling",
  "bio": "British writer"
}
–ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ—Ö –∞–≤—Ç–æ—Ä–æ–≤
–í—Å–µ–≥–¥–∞ –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –ø–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏
GET /api/authors
–ò–∑–º–µ–Ω–∏—Ç—å –∞–≤—Ç–æ—Ä–∞
–í—Å–µ–≥–¥–∞ –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –ø–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏
PUT /api/authors/1
{
  "name": "Joanne Rowling",
  "bio": "Updated bio"
}

 –ö–Ω–∏–≥–∞
–°–æ–∑–¥–∞—Ç—å –∫–Ω–∏–≥—É
–í—Å–µ–≥–¥–∞ –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –ø–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏
POST /api/books
{
  "title": "Harry Potter and the Philosopher's Stone",
  "publishedYear": 1997,
  "available": true,
  "authorId": 1
}
–ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ –∫–Ω–∏–≥–∏
–í—Å–µ–≥–¥–∞ –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –ø–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏
GET /api/books
–ù–∞–π—Ç–∏ –∫–Ω–∏–≥–∏ –ø–æ –∞–≤—Ç–æ—Ä—É
–í—Å–µ–≥–¥–∞ –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –ø–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏
GET /api/books/query/author/1

 –ß–∏—Ç–∞—Ç–µ–ª—å
–°–æ–∑–¥–∞—Ç—å —á–∏—Ç–∞—Ç–µ–ª—è
–í—Å–µ–≥–¥–∞ –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –ø–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏
POST /api/readers
{
  "name": "Ivan Ivanov",
  "email": "ivan@mail.ru",
  "phone": "+79999999999"
}
–ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ—Ö —á–∏—Ç–∞—Ç–µ–ª–µ–π
–í—Å–µ–≥–¥–∞ –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –ø–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏
GET /api/readers

 –í—ã–¥–∞—á–∏ (Loan)
–í—ã–¥–∞—Ç—å –∫–Ω–∏–≥—É
–í—Å–µ–≥–¥–∞ –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –ø–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏
POST /api/loans
{
  "bookId": 1,
  "readerId": 1,
  "loanDate": "2025-11-07",
  "dueDate": "2025-11-14"
}
–í–µ—Ä–Ω—É—Ç—å –∫–Ω–∏–≥—É
–í—Å–µ–≥–¥–∞ –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –ø–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏
PATCH /api/loans/1/return
–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø—Ä–æ—Å—Ä–æ—á–∫–∏
–í—Å–µ–≥–¥–∞ –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –ø–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏
GET /api/loans/overdue

 –ë–∏–∑–Ω–µ—Å-–æ–ø–µ—Ä–∞—Ü–∏–∏ (5 –ø—Ä–∏–º–µ—Ä–æ–≤)
1. –û—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ –≤—ã–¥–∞—á–∏ –∫–Ω–∏–≥–∏ (POST /api/loans)
2. –í–æ–∑–≤—Ä–∞—Ç –∫–Ω–∏–≥–∏ (PATCH /api/loans/{id}/return)
3. –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–æ—Å—Ä–æ—á–µ–Ω–Ω—ã—Ö –≤—ã–¥–∞—á (GET /api/loans/overdue)
4. –ü–æ–∏—Å–∫ –≤—Å–µ—Ö –∫–Ω–∏–≥ –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ–≥–æ –∞–≤—Ç–æ—Ä–∞ (GET /api/books/query/author/{id})
5. –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –∞–∫—Ç–∏–≤–Ω—ã—Ö –≤—ã–¥–∞—á (GET /api/loans/active)

–ö–æ–ª–ª–µ–∫—Ü–∏—è Postman
–ö–æ–ª–ª–µ–∫—Ü–∏—è —Å–æ–¥–µ—Ä–∂–∏—Ç:
* CRUD-–∑–∞–ø—Ä–æ—Å—ã –ø–æ –≤—Å–µ–º —Å—É—â–Ω–æ—Å—Ç—è–º
* 5 –±–∏–∑–Ω–µ—Å-–æ–ø–µ—Ä–∞—Ü–∏–π
* –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (host, port, basePath=/api)

 –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ü–µ–Ω–∞—Ä–∏—è
 1. –°–æ–∑–¥–∞—Ç—å –∞–≤—Ç–æ—Ä–∞  2. –î–æ–±–∞–≤–∏—Ç—å –∫–Ω–∏–≥—É —ç—Ç–æ–º—É –∞–≤—Ç–æ—Ä—É  3. –°–æ–∑–¥–∞—Ç—å —á–∏—Ç–∞—Ç–µ–ª—è  4. –í—ã–¥–∞—Ç—å –∫–Ω–∏–≥—É  5. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤—ã–¥–∞—á—É –∏ –≤–µ—Ä–Ω—É—Ç—å –∫–Ω–∏–≥—É  6. –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –∫–Ω–∏–≥–∞ —Å–Ω–æ–≤–∞ –¥–æ—Å—Ç—É–ø–Ω–∞  7. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø—Ä–æ—Å—Ä–æ—á–∫–∏
 
 

 –†–∞–±–æ—Ç–∞ —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö PostgreSQL
 –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ PostgreSQL

psql -U postgres
–ï—Å–ª–∏ —Ç—ã –∏—Å–ø–æ–ª—å–∑—É–µ—à—å Postgres.app (–Ω–∞ macOS), –ø—Ä–æ—Å—Ç–æ –æ—Ç–∫—Ä–æ–π –µ—ë –∏ –≤–≤–µ–¥–∏:

psql -p5432 -U danilparfenov

 –°–æ–∑–¥–∞–Ω–∏–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

-- –°–æ–∑–¥–∞–Ω–∏–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
CREATE DATABASE library;

-- –°–æ–∑–¥–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–µ—Å–ª–∏ –µ–≥–æ –µ—â—ë –Ω–µ—Ç)
CREATE ROLE library WITH LOGIN PASSWORD 'library';

-- –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ –ø—Ä–∞–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é
GRANT ALL PRIVILEGES ON DATABASE library TO library;

 –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –Ω—É–∂–Ω–æ–π –ë–î

\c library

 –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–∞–≤ –∏ —Å—Ö–µ–º—ã

-- –†–∞–∑—Ä–µ—à–∞–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –¥–æ—Å—Ç—É–ø –∫ —Å—Ö–µ–º–µ public
GRANT ALL ON SCHEMA public TO library;

-- –î–∞—ë–º –ø—Ä–∞–≤–∞ –Ω–∞ —Å–æ–∑–¥–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü
ALTER DEFAULT PRIVILEGES IN SCHEMA public
GRANT ALL ON TABLES TO library;

ALTER DEFAULT PRIVILEGES IN SCHEMA public
GRANT ALL ON SEQUENCES TO library;

 –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö —Ç–∞–±–ª–∏—Ü

\dt
–í—ã–≤–æ–¥ –ø–æ–∫–∞–∂–µ—Ç, –Ω–∞–ø—Ä–∏–º–µ—Ä:

 public | authors | table | library
 public | books   | table | library
 public | loans   | table | library
 public | readers | table | library

 –ü—Ä–æ—Å–º–æ—Ç—Ä –¥–∞–Ω–Ω—ã—Ö –≤ —Ç–∞–±–ª–∏—Ü–µ

SELECT * FROM authors;
SELECT * FROM books;
SELECT * FROM readers;
SELECT * FROM loans;

 –ü—Ä–∏–º–µ—Ä—ã SQL-–∑–∞–ø—Ä–æ—Å–æ–≤

-- –î–æ–±–∞–≤–∏—Ç—å –∞–≤—Ç–æ—Ä–∞
INSERT INTO authors (name, bio)
VALUES ('J.K. Rowling', 'British writer');

-- –î–æ–±–∞–≤–∏—Ç—å –∫–Ω–∏–≥—É
INSERT INTO books (title, published_year, available, author_id)
VALUES ('Harry Potter and the Chamber of Secrets', 1998, true, 1);

-- –î–æ–±–∞–≤–∏—Ç—å —á–∏—Ç–∞—Ç–µ–ª—è
INSERT INTO readers (name, email, phone)
VALUES ('Ivan Ivanov', 'ivan@mail.ru', '+79999999999');

-- –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å –≤—ã–¥–∞—á—É –∫–Ω–∏–≥–∏
INSERT INTO loans (book_id, reader_id, loan_date, due_date)
VALUES (1, 1, CURRENT_DATE, CURRENT_DATE + INTERVAL '7 day');

-- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø—Ä–æ—Å—Ä–æ—á–µ–Ω–Ω—ã–µ –≤—ã–¥–∞—á–∏
SELECT * FROM loans WHERE due_date < CURRENT_DATE AND return_date IS NULL;

 –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã psql
–ö–æ–º–∞–Ω–¥–∞	–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ
\l	 –ü–æ–∫–∞–∑–∞—Ç—å –≤—Å–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
\c db_name	–ü–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ –ë–î
\dt	 –ü–æ–∫–∞–∑–∞—Ç—å —Ç–∞–±–ª–∏—Ü—ã
\d table_name	 –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–∞–±–ª–∏—Ü—ã
\du	 –°–ø–∏—Å–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
\q	 –í—ã–π—Ç–∏ –∏–∑ psql

 –£–¥–∞–ª–µ–Ω–∏–µ –ë–î –∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)

DROP DATABASE library;
DROP ROLE library;

–ê–≤—Ç–æ—Ä —Ä–∞–±–æ—Ç—ã;
–ü–∞—Ä—Ñ–µ–Ω–æ–≤ –î–∞–Ω–∏–ª
–ì—Ä—É–ø–ø–∞; –ë–ê–°2301
 
